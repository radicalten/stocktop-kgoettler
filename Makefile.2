# define some Makefile variables for the compiler and compiler flags
# to use Makefile variables later in the Makefile: $()
#
#  -g    adds debugging information to the executable file
#  -Wall turns on most, but not all, compiler warnings
#
# for C++ define  CC = g++
CC=cc
CFLAGS=-g -Wall
LIBS=-lcurses -lcurl -ljson-c -lm
SRCDIR=src
TESTDIR=test
BUILDDIR=src

default: stocktop

stocktop:  $(BUILDDIR)/api.o $(BUILDDIR)/main.o $(BUILDDIR)/str.o $(BUILDDIR)/ui.o $(BUILDDIR)/rc.o $(BUILDDIR)/stocks.o $(BUILDDIR)/state.o
	$(CC) $(CFLAGS) -o $(BUILDDIR)/stocktop $^ $(LIBS) 

$(BUILDDIR)/%.o : $(SRCDIR)/%.c
	$(CC) $(CFLAGS) -c $< -o $@
